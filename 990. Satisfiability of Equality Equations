class Solution {
public:
    vector<int> parent;
    int find(int x)
    {
        if(parent[x]!=x)
        {
            parent[x] = find(parent[x]);
        }
        return parent[x];
    }
    bool equationsPossible(vector<string>& equations) {
        parent.resize(26);
        for(int i=0; i<26; i++)
        {
            parent[i] = i;
        }
        for(int i=0; i<equations.size(); i++)
        {
            int first = equations[i][0] - 97;
            int second = equations[i][3] - 97;
            if(equations[i][1] == '=')
            {
                parent[find(second)] = find(first);
            }
        }
        for(int i=0; i<equations.size(); i++)
        {
            int first = equations[i][0] - 97;
            int second = equations[i][3] - 97;
            if(equations[i][1] == '!')
            {
                if(parent[find(second)] == find(first))
                {
                    return false;
                }
            }
        }
        return true;
    }
};
